<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile</title>
    <link rel="stylesheet" href="/styles.css" />
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
  </head>
  <body>
    <header class="header">
      <a href="/" class="logo-link">
        <h1>HamsterHustle</h1>
      </a>
      <div class="user-info">
        <% if (user && user.email) { %> Logged in as: <%= user.email %> <% } %>
      </div>
      <div class="user-links">
        <% if (user && user.email) { %>
        <a href="/progress" class="cta-button progress-button">
          <i class="icon">🏋️‍♀️</i> Track Your Progress
        </a>
        <a href="/profile" class="profile-button">
          <i class="icon">👤</i> View / Edit Profile
        </a>
        <a href="/recommendations" class="cta-button recommendations-button">
          <i class="icon">🏋️‍♂️</i> Fitness Recommendations
        </a>
        <a href="/logout" class="logout-button">
          <i class="icon">🚪</i> Logout
        </a>
        <% } %>
      </div>
    </header>
    <h1>User Profile</h1>
    <form action="/profile" method="POST">
      <div class="form-group">
        <label for="gender">Gender:</label>
        <input type="text" id="gender" name="gender" value="<%= user && user.gender ? user.gender : '' %>" required />
      </div>

      <div class="form-group">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" value="<%= user && user.age ? user.age : '' %>" required />
      </div>

      <div class="form-group">
        <label for="fitnessLevel">Fitness Level:</label>
        <select id="fitnessLevel" name="fitnessLevel">
          <option value="Novice" <%= user && user.fitnessLevel === 'Novice' ? 'selected' : '' %>>Novice</option>
          <option value="Intermediate" <%= user && user.fitnessLevel === 'Intermediate' ? 'selected' : '' %>>Intermediate</option>
          <option value="High" <%= user && user.fitnessLevel === 'High' ? 'selected' : '' %>>High</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fitnessGoals">Fitness Goals:</label>
        <div class="checkbox-group">
            <label for="loseWeight" class="checkbox-label">
                Lose Weight
                <input type="checkbox" id="loseWeight" name="fitnessGoals" value="Lose Weight" <%= user && user.fitnessGoals && user.fitnessGoals.includes('Lose Weight') ? 'checked' : '' %>>
            </label>
        </div>
        <div class="checkbox-group">
            <label for="buildMuscle" class="checkbox-label">
                Build Muscle
                <input type="checkbox" id="buildMuscle" name="fitnessGoals" value="Build Muscle" <%= user && user.fitnessGoals && user.fitnessGoals.includes('Build Muscle') ? 'checked' : '' %>>
              </label>
        </div>
        <div class="checkbox-group">
            <label for="improveEndurance" class="checkbox-label">
                Improve Endurance
                <input type="checkbox" id="improveEndurance" name="fitnessGoals" value="Improve Endurance" <%= user && user.fitnessGoals && user.fitnessGoals.includes('Improve Endurance') ? 'checked' : '' %>>
              </label>
        </div>
      </div>

      <button type="submit" class="cta-button">Save Profile</button>
    </form>
  </body>
</html>
